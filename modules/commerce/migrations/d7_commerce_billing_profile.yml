id: d7_commerce_billing_profile
label: Commerce customer profile
migration_tags:
  - Drupal 7
  - Commerce 1
source:
  plugin: d7_billing_profile
process:
  profile_id: profile_id
  revision_id: revision_id
  # Commerce 1.x default bundle 'billing' is now 'customer'.
  type:
    plugin: static_map
    source: type
    bypass: true
    map:
      billing: customer
  uid: uid
  status: status
  created: created
  changed: changed
  data: data
  address:
    plugin: addressfield
    source: commerce_customer_address
  # This is a default if there is an entry in the commerce_address_defaults.
  is_default:
    plugin: callback
    callable: is_string
    source: cadtype
destination:
  plugin: 'entity:profile'
  destination_module: profile
migration_dependencies:
  required:
    - d7_user
#    - d7_field
#    - d7_field_instance
